# FPbase Field Mapping Schema
# ===========================
# Maps FPbase GraphQL fields to Atlas schema
# For v1.3 integration

# Field mappings from FPbase to Atlas
field_mappings:
  # Core identification
  id: "fpbase_id"
  name: "protein_name"
  slug: "fpbase_slug"
  
  # Optical properties
  emMax: "emission_nm"
  exMax: "excitation_nm"
  brightness: "brightness_relative"
  quantumYield: "quantum_yield"
  extinctionCoefficient: "extinction_coefficient"
  
  # Physical properties
  pka: "pka"
  maturationTime: "maturation_time_hours"
  photostability: "photostability_relative"
  oligomericState: "oligomeric_state"
  molecularWeight: "molecular_weight_da"
  aminoAcidLength: "amino_acid_length"
  
  # Structure references
  structure:
    pdb: "pdb_id"
    emdb: "emdb_id"

# License information
licenses:
  fpbase_data: "CC BY-SA 4.0"
  fpbase_api: "CC BY-SA 4.0 (pointer-only)"
  attribution_required: true
  commercial_use: "allowed"
  modification: "allowed"
  distribution: "allowed"

# Data quality tiers
quality_tiers:
  A: "measured_with_confidence_intervals"
  B: "measured_without_confidence_intervals"
  C: "computed_or_estimated"

# Required fields for Atlas integration
required_fields:
  - "protein_name"
  - "emission_nm"
  - "excitation_nm"
  - "fpbase_id"

# Optional but recommended fields
recommended_fields:
  - "quantum_yield"
  - "extinction_coefficient"
  - "brightness_relative"
  - "pka"
  - "maturation_time_hours"
  - "photostability_relative"

# Field validation rules
validation_rules:
  emission_nm:
    type: "integer"
    range: [300, 1000]
    unit: "nanometers"
  
  excitation_nm:
    type: "integer"
    range: [300, 1000]
    unit: "nanometers"
  
  quantum_yield:
    type: "float"
    range: [0.0, 1.0]
    unit: "dimensionless"
  
  extinction_coefficient:
    type: "float"
    range: [0, 500000]
    unit: "M-1 cm-1"
  
  brightness_relative:
    type: "float"
    range: [0, 1000]
    unit: "relative_to_EGFP"

# API rate limiting
rate_limits:
  requests_per_minute: 60
  requests_per_hour: 1000
  max_batch_size: 50
  
# Error handling
error_handling:
  retry_attempts: 3
  retry_delay_seconds: 5
  timeout_seconds: 30
  fallback_strategy: "seed_based_harvest"

# Version information
schema_version: "1.0"
atlas_version: "1.3"
last_updated: "2024-01-15"
